<!DOCTYPE html>
<html lang="en">
{% load static %}
{% load leaflet_tags %}

  <head>
      {%leaflet_js%}
      {%leaflet_css%}
      <meta charset="utf-8">
	  <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
	  <meta name="description" content="Free HTML5 Template by FREEHTML5.CO" />
	  <meta name="keywords" content="free html5, free template, free bootstrap, html5, css3, mobile first, responsive" />
	  <meta name="author" content="FREEHTML5.CO" />

      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
      <link rel="stylesheet" type="text/css" href="{% static 'routing/leaflet-routing-machine.css' %}">
	 <link rel="stylesheet" type="text/css" href="{% static 'css/easy-button.css' %}">
	 <link rel="stylesheet" type="text/css" href="{% static 'leaflet-groupedlayercontrol/leaflet.groupedlayercontrol.css' %}">

      <link rel="icon" type="image/png" href="{% static 'assets/img/favicon.ico'%}">
      <!-- Bootstrap core CSS     -->
    <link href="{% static 'assets/css/bootstrap.min.css'%}" rel="stylesheet" />

    <!-- Animation library for notifications   -->
    <link href="{% static 'assets/css/animate.min.css'%}" rel="stylesheet"/>

    <!--  Light Bootstrap Table core CSS    -->
    <link href="{% static 'assets/css/light-bootstrap-dashboard.css?v=1.4.0'%}" rel="stylesheet"/>

      <!--  CSS for Demo Purpose, don't include it in your project     -->
    <link href="{%static 'assets/css/demo.css'%}" rel="stylesheet" />

    <!--     Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,700,300' rel='stylesheet' type='text/css'>
    <link href="{% static 'assets/css/pe-icon-7-stroke.css'%}" rel="stylesheet" />

      <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha384-wvI9pNEnPX29GJjVyYwIwvYE8opCt3qgqPtZ+xNT/JPLM9BmzQ2JjigSzdaCw1Qb" crossorigin=""/>
     <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha384-yvVOcTH1t8L/C3qZP3d7P0eWofXOQLjQxbR5+IkjANLcWm8+7GG2JhRzOhCvKj+M" crossorigin=""></script>

      <script type="text/javascript" src="{% static 'dist/leaflet.ajax.js' %}" ></script>
	  <script type="text/javascript" src="{% static 'leaflet-groupedlayercontrol/leaflet.groupedlayercontrol.js' %}" ></script>
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	  <script type="text/javascript" src="{% static 'js/easy-button.js' %}" ></script>
      <script type="text/javascript" src="{% static 'routing/leaflet-routing-machine.js' %}" ></script>
     <style type="text/css">
		#gis {width: 70%;height:300px;margin-left: 200px;}
        </style>

</head>
<body>


{% block content %}
       <div class="row" id="map2" style="height: 300px; margin-top: 30px;margin-left: 100px; width: 800px">{% leaflet_map "gis"  callback="window.our_layers"%}</div>
{% endblock %}
 <main role="main" class="container" style="margin-top: 50px" >
<div class="jumbotron">
<a href="{% url 'number_alert' queryset.id %}"><div class='btn btn-danger'>Numer of Alert</div></a>
<a href="{% url 'receive_alerts' queryset.id %}"><div class='btn btn-primary'>RECEIVED by</div></a>
        <br><br>
        <div class="display_table">
          <table class='table'>
                  <tr>

                      <th scope="col">Title</th>
                      <th scope="col">Date</th>
                      <th scope="col">Location</th>
                      <th scope="col">City_Name</th>
                       <th scope="col">Number Alerts</th>
                      <th scope="col">Received</th>
                      <th scope="col">Last Updated</th>
                      <th scope="col">Resolve</th>
                    <th scope="col">In progess</th>

                  </tr>
                  <tr>
                      <td>{{ queryset.title}}</td>
                     <td>{{ queryset.due_date }}</td>
                    <td>{{ queryset.location }}</td>
                    <td>{{ queryset.city }}</td>
                      <td>{{ queryset.number_alerts }}</td>
                      <td>{{ queryset.receive_by }}</td>
                   <td>{{ queryset.last_update}}</td>
                      <td>{{ queryset.Resolue}}</td>
                    <td>{{ queryset.Encours }}</td>

                  </tr>
          </table>
        </div>

    </div>
 </main>
      <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/leaflet.extra-markers/dist/js/leaflet.extra-markers.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.extra-markers/dist/css/leaflet.extra-markers.min.css"/>



</body>
<script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="{% static 'js/map.js'%}" type="text/javascript"></script>
<script>
    // initialize map1
    var mymap = L.map('map2').setView([14.497401, -14.452362], 8);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',
        maxZoom: 18,
    }).addTo(mymap);
    var marker = L.marker([14.497401, -14.452362]).addTo(mymap);
</script>
</html>